---
import Layout from './Layout.astro';
import SidebarNested from '../components/SidebarNested.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title?: string;
  description?: string;
}

const { title = "DeFi México - Acelerador de Startups Crypto", description = "DeFi México es el acelerador líder y comunidad de fundadores en el ecosistema crypto de México." } = Astro.props;
---

<Layout title={title} description={description}>
  <SidebarNested />
  <slot />
  <Footer />
</Layout>

<style>
  /* Layout responsivo que se adapta al sidebar */
  :global(main) {
    position: relative;
    z-index: 1;
    padding-top: 0;
    min-height: 100vh;
    transition: margin-left 0.3s ease;
  }

  /* Desktop - Ajustar margen según el sidebar */
  @media (min-width: 901px) {
    :global(main) {
      margin-left: 260px;
    }
    
    /* Cuando el sidebar está colapsado */
    :global(.sidebar-nested.collapsed) + :global(main) {
      margin-left: 70px;
    }
  }

  /* Tablets */
  @media (min-width: 901px) and (max-width: 1200px) {
    :global(main) {
      margin-left: 240px;
    }
    
    :global(.sidebar-nested.collapsed) + :global(main) {
      margin-left: 70px;
    }
  }

  /* Móviles - Sin margen, sidebar se superpone */
  @media (max-width: 900px) {
    :global(main) {
      margin-left: 0 !important;
      padding-left: 0 !important;
    }
  }


</style> 